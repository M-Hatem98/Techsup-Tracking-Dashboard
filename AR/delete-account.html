<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>KSA Tracking Dashboard</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="../img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Customized Bootstrap Stylesheet -->
    <link href="../css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="../css/style.css" rel="stylesheet" />
    <!-- Google reCAPTCHA -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>
    <div class="container d-flex justify-content-center align-items-center vh-100" dir="rtl">

  <div class="delete-wrapper row g-0">

    <!-- Left Side -->
    <div class="col-lg-6 delete-left text-end">

      <img
        src="../img/logo-dark.png"
        alt="Techsup Tracking"
        width="140"
        class="mb-4"
      />

      <h2 class="text-primary">حذف الحساب</h2>

      <p>
        لحذف حسابك، يرجى إدخال عنوان البريد الإلكتروني المسجل.
        هذا الإجراء نهائي ولا يمكن التراجع عنه.
      </p>

      <form id="forgotForm">

        <div class="mb-3">
          <label class="form-label fw-semibold">البريد الإلكتروني</label>
          <input
            type="email"
            class="form-control"
            placeholder="أدخل بريدك الإلكتروني"
            required
          >
          <div class="text-danger small mt-1 d-none">
            البريد الإلكتروني مطلوب
          </div>
        </div>

        <!-- Google reCAPTCHA -->
        <div class="mb-3">
          <div
            class="g-recaptcha"
            data-sitekey="6LdIvyorAAAAAE-kn01Ij0dlOcBGd3kXJ5F8NGBO"
          ></div>
        </div>

        <button
          type="submit"
          class="btn btn-delete w-100 text-white"
        >
          حذف الحساب
        </button>

        <a
          href="login.html"
          class="signin-link text-primary text-center d-block"
        >
          العودة إلى تسجيل الدخول
        </a>

      </form>
    </div>

    <!-- Right Side -->
    <div class="col-lg-6 delete-right">
      <img
        src="../img/delete-account.png"
        alt="حذف الحساب"
        class="img-fluid p-5"
      >
    </div>

  </div>
</div>


<!-- Confirm Delete Modal -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" dir="rtl">

  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 rounded-4">
      <div class="modal-body text-center p-5">

        <!-- Warning Icon -->
        <div class="warning-icon mb-3">
          <i class="bi bi-exclamation-triangle-fill text-danger fs-1"></i>
        </div>

        <!-- Title -->
        <h3 class="fw-bold text-danger mb-3">
          تأكيد حذف الحساب
        </h3>

        <!-- Message -->
        <p class="text-muted mb-4">
          هل أنت متأكد أنك تريد حذف حسابك؟<br>
          هذا الإجراء نهائي ولا يمكن التراجع عنه.
        </p>

        <!-- Actions -->
        <div class="d-flex justify-content-center gap-3 flex-wrap">

          <button
            type="button"
            id="confirmDeleteBtn"
            class="btn btn-delete text-white px-4"
          >
            نعم، احذف حسابي
          </button>

          <button
            class="btn btn-outline-secondary btn-cancel"
            data-bs-dismiss="modal"
          >
            إلغاء
          </button>

        </div>

      </div>
    </div>
  </div>
</div>


<!-- Success Delete Modal -->
<div class="modal fade" id="deleteSuccessModal" tabindex="-1" dir="rtl">

  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 rounded-4">
      <div class="modal-body p-5 d-flex justify-content-center">

        <div class="confirm-wrapper text-center">

          <!-- Icon -->
          <div class="icon-circle mb-3">
            <i class="bi bi-trash-fill fs-1 text-primary"></i>
          </div>

          <!-- Title -->
          <h2 class="fw-bold text-primary mb-3">
            تم إرسال طلب حذف الحساب
          </h2>

          <!-- Subtitle -->
          <p class="text-muted mb-4">
            يرجى اتباع التعليمات المرسلة إلى بريدك الإلكتروني للمتابعة.
          </p>

          <!-- Info List -->
          <ul class="list-unstyled confirm-list text-end mb-4">

            <li class="mb-2">
              <i class="bi bi-envelope-check-fill text-success ms-2"></i>
              <span>
                تم إرسال رسالة بريد إلكتروني تحتوي على تعليمات حذف الحساب
                إلى عنوان البريد الإلكتروني المرتبط باسم المستخدم.
              </span>
            </li>

            <li>
              <i class="bi bi-info-circle-fill text-primary ms-2"></i>
              <span>
                يرجى التحقق من صندوق الوارد واتباع الخطوات بعناية
                لإكمال عملية حذف الحساب.
              </span>
            </li>

          </ul>

          <!-- Action -->
          <a href="signin.html" class="btn btn-primary btn-main">
            <i class="bi bi-box-arrow-in-right ms-2"></i>
            تسجيل الدخول
          </a>

        </div>

      </div>
    </div>
  </div>
</div>



    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>


    <!-- For Testing -->
    <script>
        // 1️⃣ Handle form submit → open confirm modal
        document
            .getElementById("forgotForm")
            .addEventListener("submit", function (e) {
                e.preventDefault();

                const emailInput = document.querySelector('input[type="email"]');
                if (!emailInput.value.trim()) {
                    alert("Please enter your email address.");
                    return;
                }

                const confirmModal = new bootstrap.Modal(
                    document.getElementById("confirmDeleteModal")
                );
                confirmModal.show();
            });

        document
            .getElementById("confirmDeleteBtn")
            .addEventListener("click", function () {

                const confirmModalEl = document.getElementById("confirmDeleteModal");
                const confirmModalInstance =
                    bootstrap.Modal.getInstance(confirmModalEl);
                confirmModalInstance.hide();

                setTimeout(() => {
                    const successModal = new bootstrap.Modal(
                        document.getElementById("deleteSuccessModal")
                    );
                    successModal.show();
                }, 300);
            });
    </script>

    <!-- For Live -->
    <!-- <script>
  // 1️⃣ Handle form submit → open confirm modal
  document
    .getElementById("forgotForm")
    .addEventListener("submit", function (e) {
      e.preventDefault();

      // Validate email
      const emailInput = document.querySelector('input[type="email"]');
      if (!emailInput.value.trim()) {
        alert("Please enter your email address.");
        return;
      }

      // Validate reCAPTCHA
      if (typeof grecaptcha === "undefined") {
        alert("reCAPTCHA not loaded.");
        return;
      }

      const captchaResponse = grecaptcha.getResponse();
      if (!captchaResponse) {
        alert("Please verify that you are not a robot.");
        return;
      }

      // Show confirmation modal
      const confirmModal = new bootstrap.Modal(
        document.getElementById("confirmDeleteModal")
      );
      confirmModal.show();
    });

  document
    .getElementById("confirmDeleteBtn")
    .addEventListener("click", function () {

      // Close confirm modal
      const confirmModalEl = document.getElementById("confirmDeleteModal");
      const confirmModalInstance =
        bootstrap.Modal.getInstance(confirmModalEl);
      confirmModalInstance.hide();

      // OPTIONAL: API call can be placed here
      // deleteAccount(email)

      // Open success modal
      setTimeout(() => {
        const successModal = new bootstrap.Modal(
          document.getElementById("deleteSuccessModal")
        );
        successModal.show();
      }, 300);
    });
</script>
 -->




</body>

</html>